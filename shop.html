<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Varnikaa</title>
    <link rel="stylesheet" href="shop.css">
    <!-- For font Family' jacob' -->
    <link href="https://fonts.googleapis.com/css2?family=Jacques+Francois&display=swap" rel="stylesheet" />
    <!-- for price font family-->
    <link href="https://fonts.googleapis.com/css2?family=Jomolhari&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
   <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Federant&display=swap" rel="stylesheet">
  </head>
  <body>
    <div class="headerHead">
      <div class="abril-fatface-regular" style="display: inline-block; font-size: 30px; font-weight: bold; text-align: center; margin-left: 30px; color: rgb(27, 55, 70);">VARNIKAA</div>
      <div class="search">
  <form id="searchForm">
    <input type="text" id="searchInput" name="search" placeholder="Try or Search Saree, kurta, necklace, ring and kids wear">
    
    <i class="fas fa-search"></i>
  </form>
</div>
      <div class="seperator"></div>
      <a href="cart.html">
         <i class="fas fa-shopping-cart" style="font-size: xx-large;"></i>
      </a>
    </div>
  <div class="nav">
      <a href="varnikaa.html">Home</a>
        <a href="About.html">About</a>
        <a href="shop.html">Shop</a>
        <a target="_blank" href="contact.html">Contact</a>
        <select name="language" style="margin-left: 150px; padding: 5px;background-color: lightcyan;">
        <option value="english">English</option>
        <option value="hindi">हिंदी</option><br /><br />
        </select>
        <i id="darkModeToggle" class="fas fa-moon" style="font-size: 22px; cursor: pointer;"></i>
    </div>
    <div class="section-title">Shop</div>
    <div class="product-list">
      <div class="product">
        <img src="assets/saree2.webp" alt="saree1" />
        <p class="product-title"> Dark Green Silk Minakari Banarasi Saree</p>
        <p class="product-price">₹ 2,629</p>
        <button class="add-button">ADD TO CART</button>
      </div>
      <div class="product">
        <img src="assets/saree5.webp" alt="saree2" />
        <p class="product-title">Karagiri Multicolor Banarasi Silk Saree with Blouse Piece<br /></p>
        <p class="product-price">₹ 6,079</p>
        <button class="add-button">ADD TO CART</button>
      </div>
      <div class="product">
        <img src="assets/saree18.webp" alt="saree3" />
        <p class="product-title"> Alkananda In True Purple Handloom Banarasi Silk Saree</p>
        <p class="product-price"> ₹ 23,850</p>
        <button class="add-button">ADD TO CART</button>
      </div>
      <div class="product">
        <img src="assets/saree20.jpg" alt="saree4" />
        <p class="product-title">Elegant Pink Banarasi Silk Saree with Paisley Design, Zari Weaving, and Tassels<br /></p>
        <p class="product-price"> ₹ 1,549</p>
        <button class="add-button">ADD TO CART</button>
      </div>
      <div class="product">
        <img src="assets/kurta1.webp" alt="kurta1" />
        <p class="product-title">RangDeep Floral Printed Regular Pure Cotton</p>
        <p class="product-price"> ₹ 1,610</p>
        <button class="add-button">ADD TO CART</button>
      </div>
      <div class="product">
        <img src="assets/kurta10.jpg" alt="kurta2" />
        <p class="product-title">Women Floral Embroidered Regular Kurta with Trouser</p>
        <p class="product-price"> ₹ 1,689 </p>
        <button class="add-button">ADD TO CART</button>
      </div>
      <div class="product">
        <img src="assets/kurta12.jpg" alt="kurta3" />
        <p class="product-title">Off-White Printed Cotton Straight Kurta With Palazzos & Dupatta</p>
        <p class="product-price"> ₹ 1,499</p>
        <button class="add-button">ADD TO CART</button>
      </div>
      <div class="product">
        <img src="assets/kurta20.webp" alt="kurta4" />
        <p class="product-title">Rajasthani Angrakha Cotton Kurta Set with Palazzo For Women</p>
        <p class="product-price"> ₹ 1,849</p>
        <button class="add-button">ADD TO CART</button>
      </div>
      <div class="product">
        <img src="assets/ring2.webp" alt="ring1" />
        <p class="product-title"> Ben Platinum Band for Woman</p>
        <p class="product-price"> ₹ 42,196</p>
        <button class="add-button">ADD TO CART</button>
      </div>
      <div class="product">
        <img src="assets/ring10.jpg" alt="ring2" />
        <p class="product-title">Precious Platinum Ring</p>
        <p class="product-price"> ₹ 78,464</p>
        <button class="add-button">ADD TO CART</button>
      </div>
      <div class="product">
        <img src="assets/ring13.jpg" alt="ring3" />
        <p class="product-title"> Platinum couple ring</p>
        <p class="product-price"> ₹ 25,425</p>
        <button class="add-button">ADD TO CART</button>
      </div>
      <div class="product">
        <img src="assets/ring18.jpg" alt="ring4" />
        <p class="product-title"> 9 Pointer Platinum Diamond Ring</p>
        <p class="product-price"> ₹ 81,400</p>
        <button class="add-button">ADD TO CART</button>
      </div>
      <div class="product">
        <img src="assets/neck20.webp" alt="necklace1" />
        <p class="product-title">Antique Lakshmi Pendant Necklace Chain</p>
        <p class="product-price"> ₹ 1,099</p>
        <button class="add-button">ADD TO CART</button>
      </div>
      <div class="product">
        <img src="assets/neck19.webp" alt="necklace2" />
        <p class="product-title"> Orna Zircom American Diamond Silver Necklace Set</p>
        <p class="product-price"> ₹ 1,351</p>
        <button class="add-button">ADD TO CART</button>
      </div>
      <div class="product">
        <img src="assets/neck18.jpg" alt="necklace3" />
        <p class="product-title">Orna Zircom American Diamond Rose Gold Necklace Set</p>
        <p class="product-price"> ₹ 1,399</p>
        <button class="add-button">ADD TO CART</button>
      </div>
      <div class="product">
        <img src="assets/neck9.webp" alt="necklace4" />
        <p class="product-title">Gopika, Premium Gold Jewellery Finish Bridal Long Diamond Necklace Set for Women</p>
        <p class="product-price"> ₹ 5,497</p>
        <button class="add-button">ADD TO CART</button>
      </div>
      <div class="product">
        <img src="assets/kid1.webp" alt="kid1" />
        <p class="product-title"> Party wear Birthday Frock</p>
        <p class="product-price"> ₹ 3,329</p>
        <button class="add-button">ADD TO CART</button>
      </div>
      <div class="product">
        <img src="assets/kid9.webp" alt="kid2" />
        <p class="product-title"> Multi Color Designer Gown for Girls</p>
        <p class="product-price"> ₹4,450</p>
        <button class="add-button">ADD TO CART</button>
      </div>
      <div class="product">
        <img src="assets/kid11.webp" alt="kid3" />
        <p class="product-title"> Traditional Embroidered Girls Palazzo Set</p>
        <p class="product-price"> ₹ 3,290</p>
        <button class="add-button">ADD TO CART</button>
      </div>
      <div class="product">
        <img src="assets/kid17.webp" alt="kid4" />
        <p class="product-title"> Rama Sequin Midi for Girls</p>
        <p class="product-price"> ₹ 2,130</p>
        <button class="add-button">ADD TO CART</button>
      </div>
    </div>
    <div id="productModal" class="product-modal" aria-hidden="true">
  <div class="product-modal__backdrop" id="modalBackdrop"></div>
  <div class="product-modal__panel" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <button id="modalClose" class="modal-close" aria-label="Close product details">&times;</button>

    <div class="modal-grid">
      <div class="modal-left">
        <img id="modalMainImg" src="" alt="Product image" />
        <div id="modalThumbs" class="modal-thumbs"></div>
      </div>

      <div class="modal-right">
        <h2 id="modalTitle"></h2>
        <div id="modalPrice" class="modal-price"></div>
        <p id="modalDesc" class="modal-desc"></p>

        <div class="modal-actions">
          <button id="modalAddCart" class="btn">Add to cart</button>
          <button id="modalBuyNow" class="btn secondary">Buy now</button>
        </div>

        <hr>

        <section id="modalReviews">
          <h3>Reviews</h3>
          <div id="reviewsList"></div>
          <div id="noReviews" class="empty" style="display:none">No reviews yet. Be the first!</div>

          <div class="review-form">
            <input id="reviewerNameModal" type="text" placeholder="Your name" />
            <select id="reviewRatingModal">
              <option value="">Rating</option>
              <option value="5">5 — Excellent</option>
              <option value="4">4 — Good</option>
              <option value="3">3 — Okay</option>
              <option value="2">2 — Poor</option>
              <option value="1">1 — Bad</option>
            </select>
            <textarea id="reviewTextModal" placeholder="Write your review..."></textarea>
            <div style="display:flex;gap:8px;margin-top:8px">
              <button id="submitReviewModal" class="btn">Submit review</button>
              <button id="clearReviewModal" class="btn secondary">Clear</button>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>
</div>

    <div class="footer">
      <div>
        <p>Varnikaa</p>
        <p style="padding-left: 20px"> © 2025 Varnikaa. All rights reserved</p>
      </div>
      <div style="position: relative; top: 60px">
        <p style="font-size: 25px">About Us</p><br />
        <a href="#Our Story">Our Story</a><br /><br />
        <a href="#Blog">Blog</a><br /><br />
        <div class="social-icons">
          <a href="https://www.instagram.com/shopvarnikaa/" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
          <a href="#" target="_blank" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
          <a href="https://x.com/ShopVarnikaa" target="_blank" aria-label="Twitter"><i class="fab fa-x-twitter"></i></a>
          <a href="https://www.youtube.com/@shopvarnikaa" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
        </div>
      </div>
      <div style="position: relative; top: 60px">
        <p style="font-size: 25px; padding-bottom: 20px">Quick Links</p>
        <a href="#Shipping and Exchanges">Shipping and Exchanges</a>
        <a href="#Privacy Policy"></a><br /><br />
        <a href="#Terms and Conditions">Terms and Conditions</a><br /><br />
        <a href="#FAQs">FAQs</a><br /><br />
        <a href="#Track Orders">Track Orders</a>
      </div>
      <div style="position: relative; top: 40px; font-size: 20px">
        <i class="fas fa-map-marker-alt"></i> Find a Shop Near You<br /><br />
        <i class="fas fa-envelope"></i> shopvarnikaa@gmail.com<br /><br />
        <i class="fas fa-phone"></i> +91 8915643689
      </div>
    </div>
    <script>
document.addEventListener('DOMContentLoaded', () => {
  try {
    // --- Utility ---
    const escapeHtml = (s = '') => (s + '').replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[m]);

    function makeIdFromIndex(index) {
      return 'p-' + String(index + 1).padStart(3, '0');
    }

    // --- Modal elements (ensure they exist) ---
    const modal = document.getElementById('productModal');
    if (!modal) {
      console.warn('Product modal element (#productModal) not found — modal script will not run.');
      return;
    }
    const backdrop = document.getElementById('modalBackdrop');
    const closeBtn = document.getElementById('modalClose');
    const modalTitle = document.getElementById('modalTitle');
    const modalPrice = document.getElementById('modalPrice');
    const modalDesc = document.getElementById('modalDesc');
    const modalMainImg = document.getElementById('modalMainImg');
    const modalThumbs = document.getElementById('modalThumbs');
    const reviewsList = document.getElementById('reviewsList');
    const noReviews = document.getElementById('noReviews');
    const submitReviewBtn = document.getElementById('submitReviewModal');
    const clearReviewBtn = document.getElementById('clearReviewModal');
    const reviewerName = document.getElementById('reviewerNameModal');
    const reviewRating = document.getElementById('reviewRatingModal');
    const reviewText = document.getElementById('reviewTextModal');
    const modalAddCart = document.getElementById('modalAddCart');

    // If any crucial elements missing, warn and stop gracefully
    const required = {backdrop, closeBtn, modalTitle, modalMainImg, modalThumbs, submitReviewBtn, modalAddCart};
    for (const [k,v] of Object.entries(required)) {
      if (!v) {
        console.warn(`Modal required element "${k}" not found — modal features may be limited.`);
      }
    }

    // --- Wire products (attach data-id if missing) ---
    const productEls = document.querySelectorAll('.product');
    productEls.forEach((el, i) => {
      if (!el.dataset.id) el.dataset.id = makeIdFromIndex(i);
      el.style.cursor = 'pointer';

      el.addEventListener('click', (ev) => {
        // Ignore clicks on ADD TO CART button - let existing handler run
        if (ev.target.closest('.add-button')) return;
        openProductModal(el.dataset.id, el);
      });
    });

    // open / close modal helpers
    function openProductModal(id, productEl) {
      if (!productEl) return;
      const title = productEl.querySelector('.product-title')?.innerText?.trim() || 'Product';
      const price = productEl.querySelector('.product-price')?.innerText?.trim() || '';
      const mainImgSrc = productEl.querySelector('img')?.src || '';

      // read images from data-images JSON (optional) else fall back to single image
      let images = [ mainImgSrc ];
      if (productEl.dataset.images) {
        try {
          const arr = JSON.parse(productEl.dataset.images);
          if (Array.isArray(arr) && arr.length) images = arr;
        } catch (e) {
          console.warn('Invalid JSON in data-images attribute for product:', e);
        }
      }

      // populate modal
      if (modalTitle) modalTitle.textContent = title;
      if (modalPrice) modalPrice.textContent = price;
      if (modalDesc) modalDesc.textContent = productEl.dataset.desc || '';
      if (modalMainImg) { modalMainImg.src = images[0] || ''; modalMainImg.alt = title; }

      // thumbnails
      if (modalThumbs) {
        modalThumbs.innerHTML = '';
        images.forEach((src, idx) => {
          const t = document.createElement('img');
          t.src = src;
          t.className = idx === 0 ? 'thumb selected' : 'thumb';
          t.addEventListener('click', () => {
            if (modalMainImg) modalMainImg.src = src;
            modalThumbs.querySelectorAll('img').forEach(x => x.classList.remove('selected'));
            t.classList.add('selected');
          });
          modalThumbs.appendChild(t);
        });
      }

      // load reviews
      loadReviewsFor(id);

      // modal Add to cart (defensive)
      if (modalAddCart) {
        modalAddCart.onclick = () => {
          const productData = { id, title, price, img: images[0] };
          const cart = JSON.parse(localStorage.getItem('cart') || '[]');
          cart.push(productData);
          localStorage.setItem('cart', JSON.stringify(cart));
          modalAddCart.classList.add('success');
          setTimeout(()=> modalAddCart.classList.remove('success'), 700);
        };
      }

      // show modal
      modal.setAttribute('aria-hidden','false');
      modal.classList.add('open');
      document.body.style.overflow = 'hidden';
      if (submitReviewBtn) submitReviewBtn.focus();
      modal.dataset.currentId = id;
    }

    function closeModal() {
      modal.setAttribute('aria-hidden','true');
      modal.classList.remove('open');
      document.body.style.overflow = '';
      if (reviewerName) reviewerName.value = '';
      if (reviewRating) reviewRating.value = '';
      if (reviewText) reviewText.value = '';
      if (reviewsList) reviewsList.innerHTML = '';
      if (noReviews) noReviews.style.display = 'none';
      modal.dataset.currentId = '';
    }

    // close handlers
    if (backdrop) backdrop.addEventListener('click', closeModal);
    if (closeBtn) closeBtn.addEventListener('click', closeModal);
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && modal.classList.contains('open')) closeModal(); });

    // reviews storage & display
    function loadReviewsFor(id) {
      const key = 'reviews:' + id;
      let arr = [];
      try {
        const raw = localStorage.getItem(key);
        if (raw) arr = JSON.parse(raw);
      } catch (e) { arr = []; console.warn('Failed to parse reviews from localStorage', e); }
      renderReviews(arr);
    }

    function renderReviews(list = []) {
      if (!reviewsList) return;
      reviewsList.innerHTML = '';
      if (!list.length) {
        if (noReviews) noReviews.style.display = 'block';
        return;
      }
      if (noReviews) noReviews.style.display = 'none';
      list.forEach(r => {
        const el = document.createElement('div');
        el.className = 'review';
        const time = r.time ? new Date(r.time).toLocaleString() : '';
        el.innerHTML = '<div class="meta"><span class="rating">★ ' + (r.rating||'') + '</span> <strong>' + escapeHtml(r.name||'') + '</strong> <span style="margin-left:8px;color:#888;font-size:13px">' + escapeHtml(time) + '</span></div>' +
                       '<div class="body">' + escapeHtml(r.text||'') + '</div>';
        reviewsList.appendChild(el);
      });
    }

    // submit review
    if (submitReviewBtn) {
      submitReviewBtn.addEventListener('click', () => {
        const id = modal.dataset.currentId;
        if (!id) return;
        const name = (reviewerName && reviewerName.value.trim()) || 'Anonymous';
        const rating = parseInt(reviewRating && reviewRating.value);
        const text = reviewText && reviewText.value.trim();
        if (!rating || !text) {
          showTempNotif('Please provide rating and review text', 'error');
          return;
        }
        const key = 'reviews:' + id;
        const cur = JSON.parse(localStorage.getItem(key) || '[]');
        cur.unshift({ name, rating, text, time: Date.now() });
        localStorage.setItem(key, JSON.stringify(cur));
        renderReviews(cur);
        if (reviewerName) reviewerName.value = '';
        if (reviewRating) reviewRating.value = '';
        if (reviewText) reviewText.value = '';
        showTempNotif('Review added', 'success');
      });
    }

    if (clearReviewBtn) {
      clearReviewBtn.addEventListener('click', () => {
        if (reviewerName) reviewerName.value = '';
        if (reviewRating) reviewRating.value = '';
        if (reviewText) reviewText.value = '';
      });
    }

    function showTempNotif(msg, type='success') {
      const n = document.createElement('div');
      n.className = 'notification ' + (type === 'success' ? 'success' : 'error');
      n.textContent = msg;
      document.body.appendChild(n);
      setTimeout(()=> n.classList.add('show'), 20);
      setTimeout(()=> { n.classList.remove('show'); setTimeout(()=> n.remove(), 300); }, 2000);
    }

  } catch (err) {
    console.error('Unexpected error in product modal script:', err);
  }
});
</script>

  </body>
</html>