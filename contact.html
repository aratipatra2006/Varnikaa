<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contact Us - Varnikaa</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root{
      --accent:#b565a7; /* soft mauve */
      --muted:#6b6b6b;
      --bg:#fff7ff;
      --card:#ffffff;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg),#fff);}
    .container{max-width:1100px;margin:40px auto;padding:24px;}

    .card{background:var(--card);border-radius:12px;box-shadow:0 8px 30px rgba(79,40,79,0.06);padding:28px;display:grid;grid-template-columns:1fr 420px;gap:28px;align-items:start}
    .hero{margin:0}
    h1{margin:0 0 6px;font-size:28px;color:#3b2a3b}
    p.lead{margin:0 0 18px;color:var(--muted)}

    form{display:flex;flex-direction:column;gap:12px}
    label{font-size:13px;color:#4b3a4b}
    input[type=text],input[type=email],textarea{width:100%;padding:12px;border-radius:8px;border:1px solid #e6d9e6;font-size:14px}
    textarea{min-height:140px;resize:vertical}
    .row{display:flex;gap:12px}
    .row .col{flex:1}

    .btn{display:inline-flex;gap:10px;align-items:center;justify-content:center;padding:10px 16px;border-radius:10px;border:0;background:var(--accent);color:#fff;font-weight:600;cursor:pointer}
    .btn.secondary{background:transparent;color:var(--accent);border:1px solid rgba(181,101,167,0.18)}

    .info{background:linear-gradient(180deg,#fff,#fff);padding:18px;border-radius:10px;border:1px solid #f0e6f1}
    .meta{display:flex;gap:10px;align-items:center;margin-bottom:10px}
    .meta i{font-size:18px;color:var(--accent);width:30px;text-align:center}
    .small{font-size:13px;color:var(--muted)}

    .map{width:100%;height:220px;border-radius:10px;overflow:hidden;border:1px solid #eee}

    .notification{padding:12px;border-radius:8px;margin-top:8px;display:none}
    .notification.success{background:#ecf9f1;border:1px solid #c6f0d4;color:#0b6b3a}
    .notification.error{background:#fff1f2;border:1px solid #fcced3;color:#8a1530}

    @media (max-width:980px){
      .card{grid-template-columns:1fr;}
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="card" role="region" aria-labelledby="contact-heading">
      <section class="hero" aria-labelledby="contact-heading">
        <h1 id="contact-heading">Get in touch</h1>
        <p class="lead">Have a question about our dresses, sarees or jewelry? Send us a message — we reply within 24–48 business hours.</p>

        <form id="contactForm" novalidate>
          <div class="row">
            <div class="col">
              <label for="name">Full name</label>
              <input id="name" name="name" type="text" placeholder="Your name" required />
            </div>
            <div class="col">
              <label for="email">Email</label>
              <input id="email" name="email" type="email" placeholder="you@example.com" required />
            </div>
          </div>

          <div>
            <label for="subject">Subject</label>
            <input id="subject" name="subject" type="text" placeholder="Order question, returns, wholesale..." required />
          </div>

          <div>
            <label for="message">Message</label>
            <textarea id="message" name="message" placeholder="Write your message..." required></textarea>
          </div>

          <div style="display:flex;gap:12px;align-items:center;margin-top:6px">
            <button class="btn" type="submit">Send message <i class="fa-solid fa-paper-plane" style="font-size:14px"></i></button>
            <button type="button" id="clearBtn" class="btn secondary">Clear</button>
            <span class="small" style="margin-left:auto">We respect your privacy. No spam.</span>
          </div>

          <div id="notification" class="notification" role="status" aria-live="polite"></div>
        </form>
      </section>

      <aside class="info" aria-label="Contact information">
        <div class="meta"><i class="fa-solid fa-shop"></i>
          <div>
            <div style="font-weight:600">Varnikaa (Customer Support)</div>
            <div class="small">Mon–Sat, 9:00 AM – 6:00 PM IST</div>
          </div>
        </div>

        <div style="margin-top:12px">
          <div style="margin-bottom:8px"><strong>Email</strong><div class="small">support@varnikaa.com</div></div>
          <div style="margin-bottom:8px"><strong>Phone</strong><div class="small">+91 98765 43210</div></div>
          <div style="margin-bottom:8px"><strong>Address</strong><div class="small">Shop No. 12, MG Road, Kolkata, West Bengal</div></div>
        </div>

        <div style="margin-top:14px">
          <div class="map" id="mapPlaceholder" aria-hidden="true">
            <!-- Optional: replace with embed/map iframe in production -->
            <div style="display:flex;align-items:center;justify-content:center;height:100%;color:var(--muted);font-size:14px">Map preview (replace with Google Maps iframe)</div>
          </div>
        </div>

        <div style="margin-top:14px;text-align:center">
          <a class="btn secondary" href="/faq.html" style="text-decoration:none;display:inline-flex;align-items:center;">Visit FAQ <i class="fa-solid fa-circle-question" style="margin-left:8px;font-size:14px"></i></a>
        </div>
      </aside>
    </div>

    <p style="text-align:center;margin-top:14px;color:var(--muted);font-size:13px">Prefer email? Write to <a href="mailto:support@varnikaa.com">support@varnikaa.com</a></p>
  </div>

  <script>
    // Client-side validation + AJAX submission to backend endpoint
    const form = document.getElementById('contactForm');
    const notif = document.getElementById('notification');
    const clearBtn = document.getElementById('clearBtn');

    function showNotification(type, text){
      notif.className = 'notification ' + (type === 'success' ? 'success' : 'error');
      notif.textContent = text;
      notif.style.display = 'block';
      setTimeout(()=>{ notif.style.display = 'none'; }, 8000);
    }

    clearBtn.addEventListener('click', ()=>{
      form.reset();
      notif.style.display = 'none';
    });

    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      notif.style.display = 'none';

      // basic validation
      const name = form.name.value.trim();
      const email = form.email.value.trim();
      const subject = form.subject.value.trim();
      const message = form.message.value.trim();

      if(!name || !email || !subject || !message){
        showNotification('error','Please fill all required fields.');
        return;
      }

      // simple email regex
      const emailRe = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if(!emailRe.test(email)){
        showNotification('error','Please enter a valid email address.');
        return;
      }

      // show a quick optimistic UI
      const submitBtn = form.querySelector('button[type="submit"]');
      submitBtn.disabled = true;
      submitBtn.textContent = 'Sending...';

      try{
        // POST to your backend; adjust URL if your API uses /api/contact or different path
        const res = await fetch('/api/contact', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ name, email, subject, message })
        });

        if(res.ok){
          form.reset();
          showNotification('success','Thanks — your message has been sent. We will get back to you soon.');
        } else {
          const data = await res.json().catch(()=>({}));
          const msg = data.error || 'Something went wrong on the server. Please try again later.';
          showNotification('error', msg);
        }
      } catch(err){
        console.error(err);
        showNotification('error','Network error. Check your connection and try again.');
      } finally{
        submitBtn.disabled = false;
        submitBtn.innerHTML = 'Send message <i class="fa-solid fa-paper-plane" style="font-size:14px"></i>';
      }
    });
  </script>
</body>
</html>
